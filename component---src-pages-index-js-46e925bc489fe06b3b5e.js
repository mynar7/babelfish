(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{175:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(183),s=n(181),o=n(176),c=function(){var e=Object(o.b)().speechState;return r.a.createElement(r.a.Fragment,null,e.results.length>0?e.results.map(function(e,t){var n=e.spoken,a=e.translated;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("p",null,n),r.a.createElement("p",null,a))}):r.a.createElement("p",null,"Press 'Listen' and allow Babelfish to use your microphone to translate your spoken words to Japanese! (Only works in Chrome)"))},l=function(){var e=Object(o.b)(),t=e.speechState.listening,n=e.toggleListening;return r.a.createElement("button",{className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",onClick:n},t?"Stop":"Listen")};t.default=function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,{title:"Home"}),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("div",{className:"w-1/2"},r.a.createElement(c,null)),r.a.createElement("div",null,r.a.createElement(l,null))))}},176:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return o});n(20);var a=n(0),r=n.n(a);function i(e,t){var n=t.payload;switch(t.type){case"updateLastSpoken":return Object.assign({},e,{lastSpoken:n});case"addResult":return Object.assign({},e,{results:[].concat(e.results,[{spoken:e.lastSpoken,translated:n}])});case"setFromLang":return Object.assign({},e,{fromLang:n});case"setToLang":return Object.assign({},e,{toLang:n});case"toggleListening":return Object.assign({},e,{listening:!e.listening});default:return e}}var s=Object(a.createContext)();function o(){var e=Object(a.useContext)(s);if(!e)throw new Error("useSpeechProvider must be used within a SpeechProvider");return e}function c(e){var t=Object(a.useReducer)(i,{fromLang:"en",toLang:"ja",lastSpoken:"",listening:!1,results:[]}),n=t[0],o=t[1];var c={speechState:n,updateLastSpoken:function(e){o({type:"updateLastSpoken",payload:e})},addTranslationResult:function(e){o({type:"addResult",payload:e})},setFromLang:function(e){o({type:"setFromLang",payload:e})},setToLang:function(e){o({type:"setToLang",payload:e})},toggleListening:function(){o({type:"toggleListening"})}};return r.a.createElement(s.Provider,Object.assign({value:c},e))}},177:function(e,t,n){var a;e.exports=(a=n(180))&&a.default||a},178:function(e){e.exports={data:{site:{siteMetadata:{title:"Babelfish"}}}}},180:function(e,t,n){"use strict";n.r(t);n(20);var a=n(0),r=n.n(a),i=n(11),s=n.n(i),o=n(87),c=function(e){var t=e.location,n=e.pageResources;return n?r.a.createElement(o.a,Object.assign({location:t,pageResources:n},n.json)):null};c.propTypes={location:s.a.shape({pathname:s.a.string.isRequired}).isRequired},t.default=c},181:function(e,t,n){"use strict";var a=n(182),r=n(0),i=n.n(r),s=n(11),o=n.n(s),c=n(186),l=n.n(c);function u(e){var t=e.description,n=e.lang,r=e.meta,s=e.title,o=a.data.site,c=t||o.siteMetadata.description;return i.a.createElement(l.a,{htmlAttributes:{lang:n},title:s,titleTemplate:"%s | "+o.siteMetadata.title,meta:[{name:"description",content:c},{property:"og:title",content:s},{property:"og:description",content:c},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:o.siteMetadata.author},{name:"twitter:title",content:s},{name:"twitter:description",content:c}].concat(r)})}u.defaultProps={lang:"en",meta:[],description:""},u.propTypes={description:o.a.string,lang:o.a.string,meta:o.a.arrayOf(o.a.object),title:o.a.string.isRequired},t.a=u},182:function(e){e.exports={data:{site:{siteMetadata:{title:"Babelfish",description:"A spoken translation app",author:"Lee Warrick"}}}}},183:function(e,t,n){"use strict";var a=n(178),r=n(0),i=n.n(r),s=n(11),o=n.n(s),c=n(176),l=(n(35),n(12),n(184)),u=n.n(l);n(179);function p(e,t,n,a,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(a,r)}function d(e,t,n){return fetch("https://translate.googleapis.com/translate_a/single?client=gtx&sl="+t+"&tl="+n+"&dt=t&q="+e).then(function(e){return e.json()}).then(function(e){return e[0][0][0]?e[0][0][0]:null}).catch(function(e){return console.log(e)})}var m=function(){var e=Object(c.b)(),t=e.speechState,n=t.listening,a=t.fromLang,i=t.toLang,s=e.updateLastSpoken,o=e.addTranslationResult,l=new(window.SpeechRecognition||window.webkitSpeechRecognition);return l.interimResults=!0,l.lang=a,Object(r.useEffect)(function(){if(n){var e=function(){var e,t=(e=u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.results[0].isFinal){e.next=7;break}return n=t.results[0][0].transcript,s(n),e.next=5,d(n,a,i);case 5:r=e.sent,o(r);case 7:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function s(e){p(i,a,r,s,o,"next",e)}function o(e){p(i,a,r,s,o,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}(),t=function(){l.start()};return l.addEventListener("result",e),l.addEventListener("end",t),l.start(),function(){n&&(l.removeEventListener("result",e),l.removeEventListener("end",t))}}},[n]),null},f=n(58),g=n.n(f);n(177),i.a.createContext({});o.a.object,o.a.string.isRequired,o.a.func,o.a.func;var v=function(e){var t=e.siteTitle;return i.a.createElement("header",{style:{background:"rebeccapurple",marginBottom:"1.45rem"}},i.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"1.45rem 1.0875rem"}},i.a.createElement("h1",{style:{margin:0}},i.a.createElement(g.a,{to:"/",style:{color:"white",textDecoration:"none"}},t))))};v.propTypes={siteTitle:o.a.string},v.defaultProps={siteTitle:""};var h=v,b=(n(185),function(e){var t=e.children,n=a.data;return i.a.createElement(c.a,null,i.a.createElement(m,null),i.a.createElement("div",{className:"font-serif"},i.a.createElement(h,{siteTitle:n.site.siteMetadata.title}),i.a.createElement("div",{className:"container mx-auto"},i.a.createElement("main",null,t))))});b.propTypes={children:o.a.node.isRequired};t.a=b}}]);
//# sourceMappingURL=component---src-pages-index-js-46e925bc489fe06b3b5e.js.map